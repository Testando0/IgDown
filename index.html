<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KUROMI DOWNLOADER | InstaReels</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Poppins:wght@300;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        :root {
            --primary: #dfa3ff; /* Lil√°s Kuromi */
            --secondary: #ff00aa; /* Rosa Neon */
            --dark: #0a0a0a; /* Preto Fundo */
            --glass: rgba(20, 20, 20, 0.8);
            --border-glow: 0 0 15px var(--primary);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: var(--dark);
            background-image: 
                linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)),
                url('https://i.pinimg.com/originals/69/21/2f/69212f087451c070b194719942882273.gif'); /* Gif de Fundo Cyberpunk opcional */
            background-size: cover;
            background-position: center;
            font-family: 'Poppins', sans-serif;
            color: white;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        /* Part√≠culas flutuantes no fundo */
        .bg-particles {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            z-index: 0;
            background: radial-gradient(circle at 50% 50%, #2a0e35 0%, transparent 60%);
        }

        .container {
            position: relative;
            z-index: 10;
            width: 90%;
            max-width: 500px;
            background: var(--glass);
            backdrop-filter: blur(10px);
            border: 2px solid var(--primary);
            border-radius: 20px;
            padding: 40px 20px;
            box-shadow: var(--border-glow), inset 0 0 20px rgba(223, 163, 255, 0.1);
            text-align: center;
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        /* Cabe√ßalho Kuromi */
        h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 2rem;
            text-transform: uppercase;
            margin-bottom: 10px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 10px rgba(223, 163, 255, 0.5);
        }

        .skull-icon {
            font-size: 3rem;
            color: var(--primary);
            margin-bottom: 15px;
            filter: drop-shadow(0 0 10px var(--secondary));
            animation: glitch 2s infinite;
        }

        @keyframes glitch {
            0% { transform: skew(0deg); }
            20% { transform: skew(-10deg); }
            40% { transform: skew(10deg); }
            60% { transform: skew(0deg); }
        }

        .desc {
            color: #aaa;
            font-size: 0.9rem;
            margin-bottom: 30px;
        }

        /* Input Area */
        .input-group {
            position: relative;
            margin-bottom: 25px;
        }

        input {
            width: 100%;
            padding: 15px;
            background: rgba(0, 0, 0, 0.6);
            border: 1px solid #444;
            border-radius: 10px;
            color: var(--primary);
            font-family: 'Orbitron', sans-serif;
            outline: none;
            transition: 0.3s;
        }

        input:focus {
            border-color: var(--secondary);
            box-shadow: 0 0 15px var(--secondary);
        }

        /* Bot√£o Futurista */
        .btn-download {
            width: 100%;
            padding: 15px;
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
            font-family: 'Orbitron', sans-serif;
            font-weight: bold;
            font-size: 1rem;
            cursor: pointer;
            border-radius: 10px;
            position: relative;
            overflow: hidden;
            transition: 0.4s;
            text-transform: uppercase;
        }

        .btn-download:hover {
            background: var(--primary);
            color: black;
            box-shadow: 0 0 25px var(--primary);
        }

        .btn-download i {
            margin-right: 8px;
        }

        /* √Årea de Resultado */
        #result-area {
            margin-top: 25px;
            display: none; /* Escondido por padr√£o */
            border-top: 1px solid rgba(255,255,255,0.1);
            padding-top: 20px;
        }

        video {
            width: 100%;
            border-radius: 10px;
            border: 1px solid var(--primary);
            box-shadow: 0 0 10px rgba(223, 163, 255, 0.3);
            margin-bottom: 15px;
        }

        .loader {
            display: none;
            font-size: 2rem;
            color: var(--secondary);
            margin-top: 20px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin { 100% { transform: rotate(360deg); } }

        .error-msg {
            color: #ff3333;
            margin-top: 10px;
            font-size: 0.9rem;
            display: none;
            text-shadow: 0 0 5px red;
        }

        footer {
            margin-top: 30px;
            font-size: 0.7rem;
            color: #666;
        }
    </style>
</head>
<body>

    <div class="bg-particles"></div>

    <div class="container">
        <div class="skull-icon">
            <i class="fas fa-skull"></i>
        </div>
        <h1>Kuromi <br>Downloader</h1>
        <p class="desc">Baixe seus Reels do Instagram com o poder do sistema.</p>

        <div class="input-group">
            <input type="text" id="instaUrl" placeholder="Cole o Link do Reel Aqui...">
        </div>

        <button class="btn-download" onclick="fetchVideo()">
            <i class="fas fa-bolt"></i> Baixar
        </button>

        <div class="loader" id="loader">
            <i class="fas fa-circle-notch"></i>
        </div>

        <p class="error-msg" id="errorMsg"></p>

        <div id="result-area">
            <video id="videoPlayer" controls>
                Seu navegador n√£o suporta a tag de v√≠deo.
            </video>
            <a id="downloadLink" href="#" class="btn-download" style="display:block; margin-top:10px; text-decoration:none; line-height:1.5;">
                <i class="fas fa-download"></i> Salvar no Dispositivo
            </a>
        </div>

        <footer>
            SYSTEM: KUROMI TECH v2.0
        </footer>
    </div>

    <script>
        async function fetchVideo() {
            const input = document.getElementById('instaUrl');
            const loader = document.getElementById('loader');
            const resultArea = document.getElementById('result-area');
            const errorMsg = document.getElementById('errorMsg');
            const videoPlayer = document.getElementById('videoPlayer');
            const downloadLink = document.getElementById('downloadLink');

            const url = input.value.trim();

            // Resetar UI
            errorMsg.style.display = 'none';
            resultArea.style.display = 'none';

            // Valida√ß√£o B√°sica
            if (!url) {
                showError("*Insira O Link Do Video Que Deseja Baixar üòâ*");
                return;
            }

            // Mostrar Loader
            loader.style.display = 'block';

            try {
                // Chamada da API baseada no seu case
                const apiUrl = `https://kuromi-system-tech.onrender.com/api/insta?url=${encodeURIComponent(url)}`;
                
                const response = await fetch(apiUrl);
                const json = await response.json();

                // L√≥gica de verifica√ß√£o baseada no case
                if (!json || !json.data || !Array.isArray(json.data.data)) {
                    throw new Error("*N√£o Encontrei O V√≠deo, Sinto Muito üôÅ*");
                }

                const mediaArray = json.data.data;
                if (mediaArray.length < 1) {
                    throw new Error("*O Link Enviado N√£o Corresponde A Nenhuma Publica√ß√£o üôÅ*");
                }

                const videoData = mediaArray[0];
                const mediaURL = videoData.url;

                // Sucesso: Mostrar v√≠deo
                videoPlayer.src = mediaURL;
                downloadLink.href = mediaURL;
                
                // Ocultar loader e mostrar resultado
                loader.style.display = 'none';
                resultArea.style.display = 'block';

            } catch (error) {
                console.error(error);
                loader.style.display = 'none';
                // Se for erro de rede ou erro customizado
                const msg = error.message.includes("*") ? error.message : "*AAH N√ÉO!! DEU ERRO NO SISTEMA üôÅüíî*";
                showError(msg);
            }
        }

        function showError(msg) {
            const errorElement = document.getElementById('errorMsg');
            errorElement.innerText = msg;
            errorElement.style.display = 'block';
            
            // Efeito de tremor no container
            const container = document.querySelector('.container');
            container.style.animation = 'none';
            container.offsetHeight; /* trigger reflow */
            container.style.animation = 'shake 0.5s';
            setTimeout(() => {
                container.style.animation = 'float 6s ease-in-out infinite';
            }, 500);
        }
    </script>
    
    <style>
        /* Anima√ß√£o extra de erro */
        @keyframes shake {
            0% { transform: translate(1px, 1px) rotate(0deg); }
            10% { transform: translate(-1px, -2px) rotate(-1deg); }
            20% { transform: translate(-3px, 0px) rotate(1deg); }
            30% { transform: translate(3px, 2px) rotate(0deg); }
            40% { transform: translate(1px, -1px) rotate(1deg); }
            50% { transform: translate(-1px, 2px) rotate(-1deg); }
            60% { transform: translate(-3px, 1px) rotate(0deg); }
            70% { transform: translate(3px, 1px) rotate(-1deg); }
            80% { transform: translate(-1px, -1px) rotate(1deg); }
            90% { transform: translate(1px, 2px) rotate(0deg); }
            100% { transform: translate(1px, -2px) rotate(-1deg); }
        }
    </style>
</body>
</html>
